import{i as b,o as u,g as y,d as t,b as s,c as x,w as n,e as i,k as $,q as V,a as d,F as B,s as L,x as G,t as w,y as U,h,z as v,A as S,B as D,f as z}from"./app.3bc86724.js";import{_ as A,a as F}from"./AuthenticatedLayout.c312c392.js";import{_ as C}from"./PrimaryButton.331c1263.js";import{_}from"./InputLabel.a69439fd.js";import{_ as N}from"./SecondaryButton.96494d19.js";import"./ApplicationLogo.fdf79451.js";import"./_plugin-vue_export-helper.cdc0426e.js";const T={class:"flex"},K=["src"],O={__name:"GedichtRecorder",emits:["sound_file"],setup(m,{emit:p}){const e=b(!1),f=b("");let g={},o=null,r=[];function a(){o||j()}function c(){e.value=!0,o=new MediaRecorder(g),o.onstop=()=>R(),o.ondataavailable=l=>{console.log("pushing chunk",l),r.push(l.data)},o.start(),console.log(o.state),console.log("recorder started")}function M(){e.value=!1,o.stop(),console.log(o.state),console.log("recorder stopped")}function R(){console.log(r),console.log("mediaRecorderStopped");const l=new Blob(r,{type:"audio/mpeg3; codecs=opus"});r=[];const k=window.URL.createObjectURL(l);p("sound_file",l),f.value=k}function j(){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?(console.log("getUserMedia supported."),navigator.mediaDevices.getUserMedia({audio:!0}).then(l=>{g=l,c()}).catch(l=>{console.error(`The following getUserMedia error occurred: ${l}`)})):console.log("getUserMedia not supported on your browser!")}return(l,k)=>(u(),y("div",T,[t("audio",{controls:"",src:s(f)},null,8,K),s(e)?$("",!0):(u(),x(C,{key:0,class:"ml-auto",onClick:a},{default:n(()=>[i("Opnemen")]),_:1})),s(e)?(u(),x(N,{key:1,onClick:M},{default:n(()=>[i("Stoppen")]),_:1})):$("",!0)]))}},J={class:"grid gap-y-3"},q={class:"w-full"},E=t("span",{class:"inline-flex rounded-md"},[t("button",{type:"button",class:"inline-flex items-center px-3 py-2 border border-transparent text-sm leading-4 font-medium rounded-md text-gray-500 bg-white dark:bg-gray-800 hover:text-gray-700 dark:hover:text-gray-300 focus:outline-none transition ease-in-out duration-150"},[i(" Genres "),t("svg",{class:"ml-2 -mr-0.5 h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})])])],-1),I={class:"grid p-4 gap-5 w-full grid-cols-3"},H={class:"text-white"},P={__name:"AddGenre",props:{genres:Array},setup(m){const p=m;return(e,f)=>{const g=V("Link");return u(),y("div",J,[d(_,null,{default:n(()=>[i("Voeg een genre toe aan je gedicht.")]),_:1}),t("div",q,[d(A,{align:"right",width:"96"},{trigger:n(()=>[E]),content:n(()=>[t("div",I,[(u(!0),y(B,null,L(p.genres,o=>(u(),x(g,{key:o.uuid,onClick:r=>e.$emit("genre_select",o),class:"rounded-full justify-center items-center px-4 py-1 flex gap-3 color-white",style:G({backgroundColor:o.color})},{default:n(()=>[t("h2",H,w(o.name),1)]),_:2},1032,["onClick","style"]))),128))])]),_:1})])])}}},Q=t("div",{class:"flex justify-between items-center"},[t("h2",{class:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight"}," Gedicht uploaden ")],-1),W={class:"card gap-y-5 mx-auto flex flex-col justify-center"},X={class:"grid gap-y-3"},Y={class:"grid gap-y-3"},Z=["onKeydown"],ee={class:"ml-auto text-gray-300 font-thin text-sm"},te={class:"grid gap-y-3"},oe={class:"grid gap-y-3"},de={__name:"CreateGedicht",props:{auth:Object,genres:Array},setup(m){const p=m,e=U({titel:"",gedicht:"",zelfGeschreven:!1,auteur:"",context:""});U(!1);function f(){let r=route("gedicht.create");D.Inertia.post(r,e)}function g(r){var a=new File([r],"voiceover.mp3");e.voiceover=a}function o(){e.gedicht+="<br>"}return(r,a)=>(u(),x(F,null,{header:n(()=>[Q]),default:n(()=>[t("div",W,[t("div",X,[d(_,null,{default:n(()=>[i("Titel van je gedicht*")]),_:1}),h(t("input",{spellcheck:"false","onUpdate:modelValue":a[0]||(a[0]=c=>s(e).titel=c),class:"form-control",type:"text"},null,512),[[v,s(e).titel]])]),t("div",Y,[d(_,null,{default:n(()=>[i("Jouw gedicht*")]),_:1}),i(" "+w(s(e).gedicht)+" ",1),h(t("textarea",{spellcheck:"false","onUpdate:modelValue":a[1]||(a[1]=c=>s(e).gedicht=c),onKeydown:S(z(o,["prevent"]),["enter"]),class:"form-control h-64"},null,40,Z),[[v,s(e).gedicht]]),t("span",ee,w(s(e).gedicht.length+" / 1000")+" characters ",1)]),t("div",te,[d(_,null,{default:n(()=>[i("Door wie is je gedicht geschreven?*")]),_:1}),h(t("input",{"onUpdate:modelValue":a[2]||(a[2]=c=>s(e).auteur=c),class:"form-control w-full",type:"text",spellcheck:"false",placeholder:"John doe..."},null,512),[[v,s(e).auteur]])]),t("div",oe,[d(_,null,{default:n(()=>[i("Context bij jou gedicht")]),_:1}),h(t("textarea",{"onUpdate:modelValue":a[3]||(a[3]=c=>s(e).context=c),class:"form-control"},null,512),[[v,s(e).context]])]),d(O,{onSound_file:g}),d(P,{genres:p.genres},null,8,["genres"]),d(C,{class:"mx-auto",type:"button",onClick:f},{default:n(()=>[i("Gedicht opslaan")]),_:1})])]),_:1}))}};export{de as default};
