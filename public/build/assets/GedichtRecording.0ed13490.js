import{i as p,o as a,g as m,d as _,b as n,c as k,w as l,e as c,t as b,k as f,a as g,F as M}from"./app.185df2b5.js";import{_ as h}from"./PrimaryButton.fa295825.js";import{_ as x}from"./SecondaryButton.50ff261f.js";const U={class:"flex flex-col gap-y-5"},C=["src"],B=_("i",{class:"fa fa-circle text-red-500 duration-75 animate-pulse"},null,-1),N={__name:"GedichtRecorder",emits:["sound_file"],setup(R,{emit:v}){const i=p(!1),r=p("");let d={},t=null,o=[];function e(){t||S(),u()}function u(){i.value=!0,t=new MediaRecorder(d),t.onstop=()=>$(),t.ondataavailable=s=>{console.log("pushing chunk",s),o.push(s.data)},t.start(),console.log(t.state),console.log("recorder started")}function w(){i.value=!1,t.stop(),console.log(t.state),console.log("recorder stopped")}function $(){console.log(o),console.log("mediaRecorderStopped");const s=new Blob(o,{type:"audio/mpeg3; codecs=opus"});o=[];const y=window.URL.createObjectURL(s);v("sound_file",s),r.value=y}function S(){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?(console.log("getUserMedia supported."),navigator.mediaDevices.getUserMedia({audio:!0}).then(s=>{d=s,u()}).catch(s=>{console.error(`The following getUserMedia error occurred: ${s}`)})):console.log("getUserMedia not supported on your browser!")}return(s,y)=>(a(),m("div",U,[_("audio",{controls:"",src:n(r)},null,8,C),n(i)?f("",!0):(a(),k(h,{key:0,class:"ml-auto w-full",onClick:e},{default:l(()=>[c(b(n(r)?"Opnieuw opnemen":"Opnemen"),1)]),_:1})),n(i)?(a(),k(x,{key:1,class:"flex justify-between",onClick:w},{default:l(()=>[c("Stoppen "),B]),_:1})):f("",!0)]))}},V={key:0,class:"h-full w-full grid"},j=_("h2",{class:"font-semibold text-lg text-gray-800 dark:text-gray-200 leading-tight text-center my-20"}," Wil je een voiceover van dit gedicht opnemen? ",-1),D={class:"flex justify-center gap-5"},F={key:2,class:"stepped-form-buttons"},T={__name:"GedichtRecording",props:{recording:File},emits:["update:recording","nextStep","prevStep"],setup(R,{emit:v}){function i(o){var e=new File([o],"voiceover.mp3");v("update:recording",e),t.value=!0}const r=p(!1),d=p(!1),t=p(!1);return(o,e)=>(a(),m(M,null,[!n(r)&&!n(d)?(a(),m("div",V,[j,_("div",D,[g(x,{onClick:e[0]||(e[0]=u=>o.$emit("nextStep"))},{default:l(()=>[c("Skip")]),_:1}),g(h,{onClick:e[1]||(e[1]=()=>{r.value=!0,d.value=!0})},{default:l(()=>[c("Ja")]),_:1})])])):f("",!0),n(r)?(a(),k(N,{key:1,onSound_file:i})):f("",!0),n(r)&&n(t)?(a(),m("div",F,[g(x,{onClick:e[2]||(e[2]=u=>o.$emit("prevStep"))},{default:l(()=>[c("Back")]),_:1}),g(h,{onClick:e[3]||(e[3]=u=>o.$emit("nextStep"))},{default:l(()=>[c("Next")]),_:1})])):f("",!0)],64))}};export{T as default};
